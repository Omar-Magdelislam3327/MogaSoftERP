<main id="tasks">
    <div class="container-fluid mt-4">
        <div class="top">
          <div class="d-flex justify-content-between align-items-center">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0 justify-content-center flex-row-reverse" dir="rtl">
                    <li class="breadcrumb-item  active" aria-current="page">إدارة المهام</li>
                    <li class="breadcrumb-item  "><a routerLink="/dashboard">إدارة الشركة</a></li>
                  </ol>
              </nav>
              <div>
            <button class="btn-blue">إضافة مهمة جديدة</button>
              </div>
        </div>
        </div>
        <hr>
        <div class="grid-list">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div class="search-wrapper">
                <input type="text" class="form-control search-input" placeholder="بحث">
                <span class="search-icon">
                  <i class="bi bi-search"></i>
                </span>
              </div>
                <div>
                  <button class="btn-outline-blue me-2">فلتر</button>
                  <button class="btn-orange me-2">تصدير</button>
                  <i class="fa-solid fs-5 fa-print me-2"></i>
                  <i class="fa-solid fs-5 fa-rotate-right me-2"></i>
                  <i class="fa-solid fs-5 fa-expand me-2"></i>
                </div>
              </div>
            <table class="table table-bordered table-hover">
              <thead class="table-light">
                <tr>
                  <th>رقم المهمة</th>
                  <th>تاريخ المهمة</th>
                  <th>الحالة</th>
                  <th>الأولوية</th>
                  <th>المسؤول</th>
                  <th>المرفقات</th> 
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let task of displayedTasks">
                  <td class="fw-bold">{{ task.id }}</td>
                  <td>{{ task.appointment }}</td>
                <td>
                    <span class="status-dot me-2" [ngClass]="getStatusDotClass(task.status)"></span>
                    {{ task.status }}
                </td>
                <td>
                    <span class="status-dot me-2" [ngClass]="getPriorityDotClass(task.priority)"></span>
                    {{ task.priority }}
                </td>
                <td>
                  <img src="assets/vendors/imgs/omar.jpg" class="img-fluid rounded-circle user-image" width="40" height="40" alt="Omar" title=" Omar Magd">
                  <img src="assets/vendors/imgs/omar.jpg" class="img-fluid rounded-circle user-image" width="40" height="40" alt="Layla" title=" Layla Magd">
                  <img src="assets/vendors/imgs/omar.jpg" class="img-fluid rounded-circle user-image" width="40" height="40" alt="Ahmed" title=" Ahmed Magd">
                  <img src="assets/vendors/imgs/omar.jpg" class="img-fluid rounded-circle user-image" width="40" height="40" alt="Sara" title=" Sara Magd">
                </td>                
                  <td>
                    <span *ngIf="task.attachments > 0" class="custom-badge bg-success">{{ task.attachments }}</span>
                    <span *ngIf="task.attachments === 0" class="custom-badge bg-secondary">0</span>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="d-flex justify-content-between align-items-center mt-3">
                <nav>
                  <ul class="pagination pagination-sm mb-0">
                    <!-- <li class="page-item" [class.disabled]="currentPage === 1">
                      <button class="page-link" (click)="goToPage(1)">&lt;&lt;</button>
                    </li> -->
                    <li class="page-item" [class.disabled]="currentPage === 1">
                      <button class="page-link" (click)="prevPage()">&lt;</button>
                    </li>
              
                    <li class="page-item"
                        *ngFor="let page of getVisiblePages()"
                        [class.active]="currentPage === page">
                      <button class="page-link" (click)="goToPage(page)">{{ page }}</button>
                    </li>
              
                    <li class="page-item" [class.disabled]="currentPage === totalPages">
                      <button class="page-link" (click)="nextPage()">&gt;</button>
                    </li>
                    <!-- <li class="page-item" [class.disabled]="currentPage === totalPages">
                      <button class="page-link" (click)="goToPage(totalPages)">&gt;&gt;</button>
                    </li> -->
                  </ul>
                </nav>
              
                <div class="d-flex align-items-center">
                  <!-- <label for="gotoPage" class="me-2">اذهب إلى:</label>
                  <input id="gotoPage" type="number" class="form-control form-control-sm w-50 me-2"
                         [(ngModel)]="gotoPageNumber" min="1" [max]="totalPages">
                  <button class="btn btn-sm btn-outline-primary" (click)="goToPage(gotoPageNumber)">Go</button> -->
                </div>
              </div>
              
        </div>
    </div>
</main>